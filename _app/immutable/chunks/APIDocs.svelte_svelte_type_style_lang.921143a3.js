function jt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var le={exports:{}};le.exports=ct;le.exports.addWheelListener=ct;le.exports.removeWheelListener=Kt;function ct(n,t,r){n.addEventListener("wheel",t,r)}function Kt(n,t,r){n.removeEventListener("wheel",t,r)}var $t=le.exports,se={exports:{}},Ut=4,Ht=.001,Gt=1e-7,Jt=10,G=11,ie=1/(G-1),Qt=typeof Float32Array=="function";function ft(n,t){return 1-3*t+3*n}function lt(n,t){return 3*t-6*n}function st(n){return 3*n}function fe(n,t,r){return((ft(t,r)*n+lt(t,r))*n+st(t))*n}function vt(n,t,r){return 3*ft(t,r)*n*n+2*lt(t,r)*n+st(t)}function Xt(n,t,r,c,l){var f,i,d=0;do i=t+(r-t)/2,f=fe(i,c,l)-n,f>0?r=i:t=i;while(Math.abs(f)>Gt&&++d<Jt);return i}function er(n,t,r,c){for(var l=0;l<Ut;++l){var f=vt(t,r,c);if(f===0)return t;var i=fe(t,r,c)-n;t-=i/f}return t}function tr(n){return n}var rr=function(t,r,c,l){if(!(0<=t&&t<=1&&0<=c&&c<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===r&&c===l)return tr;for(var f=Qt?new Float32Array(G):new Array(G),i=0;i<G;++i)f[i]=fe(i*ie,t,c);function d(x){for(var w=0,v=1,s=G-1;v!==s&&f[v]<=x;++v)w+=ie;--v;var h=(x-f[v])/(f[v+1]-f[v]),p=w+h*ie,T=vt(p,t,c);return T>=Ht?er(x,p,t,c):T===0?p:Xt(x,w,w+ie,t,c)}return function(w){return w===0?0:w===1?1:fe(d(w),r,l)}},H=rr,Ue={ease:H(.25,.1,.25,1),easeIn:H(.42,0,1,1),easeOut:H(0,0,.58,1),easeInOut:H(.42,0,.58,1),linear:H(0,0,1,1)};se.exports=nr;se.exports.makeAggregateRaf=mt;se.exports.sharedScheduler=mt();function nr(n,t,r){var c=Object.create(null),l=Object.create(null);r=r||{};var f=typeof r.easing=="function"?r.easing:Ue[r.easing];f||(r.easing&&console.warn("Unknown easing function in amator: "+r.easing),f=Ue.ease);var i=typeof r.step=="function"?r.step:He,d=typeof r.done=="function"?r.done:He,x=or(r.scheduler),w=Object.keys(t);w.forEach(function(b){c[b]=n[b],l[b]=t[b]-n[b]});var v=typeof r.duration=="number"?r.duration:400,s=Math.max(1,v*.06),h,p=0;return h=x.next(_),{cancel:T};function T(){x.cancel(h),h=0}function _(){var b=f(p/s);p+=1,A(b),p<=s?(h=x.next(_),i(n)):(h=0,setTimeout(function(){d(n)},0))}function A(b){w.forEach(function(O){n[O]=l[O]*b+c[O]})}}function He(){}function or(n){if(!n){var t=typeof window<"u"&&window.requestAnimationFrame;return t?ar():ir()}if(typeof n.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof n.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return n}function ar(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function ir(){return{next:function(n){return setTimeout(n,1e3/60)},cancel:function(n){return clearTimeout(n)}}}function mt(){var n=new Set,t=new Set,r=0;return{next:l,cancel:l,clearAll:c};function c(){n.clear(),t.clear(),cancelAnimationFrame(r),r=0}function l(d){t.add(d),f()}function f(){r||(r=requestAnimationFrame(i))}function i(){r=0;var d=t;t=n,n=d,n.forEach(function(x){x()}),n.clear()}}var ur=se.exports,cr=function(t){lr(t);var r=fr(t);return t.on=r.on,t.off=r.off,t.fire=r.fire,t};function fr(n){var t=Object.create(null);return{on:function(r,c,l){if(typeof c!="function")throw new Error("callback is expected to be a function");var f=t[r];return f||(f=t[r]=[]),f.push({callback:c,ctx:l}),n},off:function(r,c){var l=typeof r>"u";if(l)return t=Object.create(null),n;if(t[r]){var f=typeof c!="function";if(f)delete t[r];else for(var i=t[r],d=0;d<i.length;++d)i[d].callback===c&&i.splice(d,1)}return n},fire:function(r){var c=t[r];if(!c)return n;var l;arguments.length>1&&(l=Array.prototype.splice.call(arguments,1));for(var f=0;f<c.length;++f){var i=c[f];i.callback.apply(i.ctx,l)}return n}}}function lr(n){if(!n)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],r=0;r<t.length;++r)if(n.hasOwnProperty(t[r]))throw new Error("Subject cannot be eventified, since it already has property '"+t[r]+"'")}var sr=vr;function vr(n,t,r){typeof r!="object"&&(r={});var c=typeof r.minVelocity=="number"?r.minVelocity:5,l=typeof r.amplitude=="number"?r.amplitude:.25,f=typeof r.cancelAnimationFrame=="function"?r.cancelAnimationFrame:mr(),i=typeof r.requestAnimationFrame=="function"?r.requestAnimationFrame:dr(),d,x,w=342,v,s,h,p,T,_,A,b;return{start:Z,stop:J,cancel:O};function O(){f(v),f(b)}function Z(){d=n(),p=A=s=T=0,x=new Date,f(v),f(b),v=i(j)}function j(){var D=Date.now(),z=D-x;x=D;var C=n(),M=C.x-d.x,L=C.y-d.y;d=C;var E=1e3/(1+z);s=.8*M*E+.2*s,T=.8*L*E+.2*T,v=i(j)}function J(){f(v),f(b);var D=n();h=D.x,_=D.y,x=Date.now(),(s<-c||s>c)&&(p=l*s,h+=p),(T<-c||T>c)&&(A=l*T,_+=A),b=i(I)}function I(){var D=Date.now()-x,z=!1,C=0,M=0;p&&(C=-p*Math.exp(-D/w),C>.5||C<-.5?z=!0:C=p=0),A&&(M=-A*Math.exp(-D/w),M>.5||M<-.5?z=!0:M=A=0),z&&(t(h+C,_+M),b=i(I))}}function mr(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function dr(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(n){return setTimeout(n,16)}}var hr=pr;function pr(n){if(n)return{capture:Je,release:Je};var t,r,c,l=!1;return{capture:f,release:i};function f(d){l=!0,r=window.document.onselectstart,c=window.document.ondragstart,window.document.onselectstart=Ge,t=d,t.ondragstart=Ge}function i(){l&&(l=!1,window.document.onselectstart=r,t&&(t.ondragstart=c))}}function Ge(n){return n.stopPropagation(),!1}function Je(){}var xe,Qe;function gr(){if(Qe)return xe;Qe=1,xe=n;function n(){this.x=0,this.y=0,this.scale=1}return xe}var ue={exports:{}},Xe;function yr(){if(Xe)return ue.exports;Xe=1,ue.exports=n,ue.exports.canAttach=t;function n(r,c){if(!t(r))throw new Error("svg element is required for svg.panzoom to work");var l=r.ownerSVGElement;if(!l)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");c.disableKeyboardInteraction||l.setAttribute("tabindex",0);var f={getBBox:d,getScreenCTM:x,getOwner:i,applyTransform:v,initTransform:w};return f;function i(){return l}function d(){var s=r.getBBox();return{left:s.x,top:s.y,width:s.width,height:s.height}}function x(){var s=l.getCTM();return s||l.getScreenCTM()}function w(s){var h=r.getCTM();h===null&&(h=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),s.x=h.e,s.y=h.f,s.scale=h.a,l.removeAttributeNS(null,"viewBox")}function v(s){r.setAttribute("transform","matrix("+s.scale+" 0 0 "+s.scale+" "+s.x+" "+s.y+")")}}function t(r){return r&&r.ownerSVGElement&&r.getCTM}return ue.exports}var ce={exports:{}},et;function wr(){if(et)return ce.exports;et=1,ce.exports=n,ce.exports.canAttach=t;function n(r,c){var l=t(r);if(!l)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var f=r.parentElement;r.scrollTop=0,c.disableKeyboardInteraction||f.setAttribute("tabindex",0);var i={getBBox:x,getOwner:d,applyTransform:w};return i;function d(){return f}function x(){return{left:0,top:0,width:r.clientWidth,height:r.clientHeight}}function w(v){r.style.transformOrigin="0 0 0",r.style.transform="matrix("+v.scale+", 0, 0, "+v.scale+", "+v.x+", "+v.y+")"}}function t(r){return r&&r.parentElement&&r.style}return ce.exports}var tt=$t,be=ur,xr=cr,br=sr,dt=hr,Sr=dt(),Tr=dt(!0),Er=gr(),rt=yr(),nt=wr(),Cr=1,Mr=1.75,ot=300,at=200,_r=ht;function ht(n,t){t=t||{};var r=t.controller;if(r||(rt.canAttach(n)?r=rt(n,t):nt.canAttach(n)&&(r=nt(n,t))),!r)throw new Error("Cannot create panzoom for the current type of dom element");var c=r.getOwner(),l={x:0,y:0},f=!1,i=new Er;r.initTransform&&r.initTransform(i);var d=typeof t.filterKey=="function"?t.filterKey:Y,x=typeof t.pinchSpeed=="number"?t.pinchSpeed:1,w=t.bounds,v=typeof t.maxZoom=="number"?t.maxZoom:Number.POSITIVE_INFINITY,s=typeof t.minZoom=="number"?t.minZoom:0,h=typeof t.boundsPadding=="number"?t.boundsPadding:.05,p=typeof t.zoomDoubleClickSpeed=="number"?t.zoomDoubleClickSpeed:Mr,T=t.beforeWheel||Y,_=t.beforeMouseDown||Y,A=typeof t.zoomSpeed=="number"?t.zoomSpeed:Cr,b=it(t.transformOrigin),O=t.enableTextSelection?Tr:Sr;Ar(w),t.autocenter&&xt();var Z,j=0,J=0,I=0,D=null,z=new Date,C,M=!1,L=!1,E,B,ve,me,de,k;"smoothScroll"in t&&!t.smoothScroll?k=Br():k=br(Dt,zt,t.smoothScroll);var he,K,Q,X=!1;Be();var ee={dispose:Zt,moveBy:R,moveTo:pe,smoothMoveTo:It,centerOn:Ft,zoomTo:oe,zoomAbs:te,smoothZoom:ne,smoothZoomAbs:Wt,showRectangle:wt,pause:pt,resume:gt,isPaused:yt,getTransform:bt,getMinZoom:St,setMinZoom:Tt,getMaxZoom:Et,setMaxZoom:Ct,getTransformOrigin:Mt,setTransformOrigin:_t,getZoomSpeed:At,setZoomSpeed:Bt};xr(ee);var Te=typeof t.initialX=="number"?t.initialX:i.x,Ee=typeof t.initialY=="number"?t.initialY:i.y,Ce=typeof t.initialZoom=="number"?t.initialZoom:i.scale;return(Te!=i.x||Ee!=i.y||Ce!=i.scale)&&te(Te,Ee,Ce),ee;function pt(){De(),X=!0}function gt(){X&&(Be(),X=!1)}function yt(){return X}function wt(e){var o=c.getBoundingClientRect(),a=N(o.width,o.height),u=e.right-e.left,m=e.bottom-e.top;if(!Number.isFinite(u)||!Number.isFinite(m))throw new Error("Invalid rectangle");var g=a.x/u,y=a.y/m,S=Math.min(g,y);i.x=-(e.left+u/2)*S+a.x/2,i.y=-(e.top+m/2)*S+a.y/2,i.scale=S}function N(e,o){if(r.getScreenCTM){var a=r.getScreenCTM(),u=a.a,m=a.d,g=a.e,y=a.f;l.x=e*u-g,l.y=o*m-y}else l.x=e,l.y=o;return l}function xt(){var e,o,a=0,u=0,m=_e();if(m)a=m.left,u=m.top,e=m.right-m.left,o=m.bottom-m.top;else{var g=c.getBoundingClientRect();e=g.width,o=g.height}var y=r.getBBox();if(!(y.width===0||y.height===0)){var S=o/y.height,V=e/y.width,P=Math.min(V,S);i.x=-(y.left+y.width/2)*P+e/2+a,i.y=-(y.top+y.height/2)*P+o/2+u,i.scale=P}}function bt(){return i}function St(){return s}function Tt(e){s=e}function Et(){return v}function Ct(e){v=e}function Mt(){return b}function _t(e){b=it(e)}function At(){return A}function Bt(e){if(!Number.isFinite(e))throw new Error("Zoom speed should be a number");A=e}function Dt(){return{x:i.x,y:i.y}}function pe(e,o){i.x=e,i.y=o,ge(),q("pan"),ye()}function Me(e,o){pe(i.x+e,i.y+o)}function ge(){var e=_e();if(e){var o=!1,a=kt(),u=e.left-a.right;return u>0&&(i.x+=u,o=!0),u=e.right-a.left,u<0&&(i.x+=u,o=!0),u=e.top-a.bottom,u>0&&(i.y+=u,o=!0),u=e.bottom-a.top,u<0&&(i.y+=u,o=!0),o}}function _e(){if(w){if(typeof w=="boolean"){var e=c.getBoundingClientRect(),o=e.width,a=e.height;return{left:o*h,top:a*h,right:o*(1-h),bottom:a*(1-h)}}return w}}function kt(){var e=r.getBBox(),o=Ot(e.left,e.top);return{left:o.x,top:o.y,right:e.width*i.scale+o.x,bottom:e.height*i.scale+o.y}}function Ot(e,o){return{x:e*i.scale+i.x,y:o*i.scale+i.y}}function ye(){f=!0,Z=window.requestAnimationFrame(Lt)}function Ae(e,o,a){if(Se(e)||Se(o)||Se(a))throw new Error("zoom requires valid numbers");var u=i.scale*a;if(u<s){if(i.scale===s)return;a=s/i.scale}if(u>v){if(i.scale===v)return;a=v/i.scale}var m=N(e,o);if(i.x=m.x-a*(m.x-i.x),i.y=m.y-a*(m.y-i.y),w&&h===1&&s===1)i.scale*=a,ge();else{var g=ge();g||(i.scale*=a)}q("zoom"),ye()}function te(e,o,a){var u=a/i.scale;Ae(e,o,u)}function Ft(e){var o=e.ownerSVGElement;if(!o)throw new Error("ui element is required to be within the scene");var a=e.getBoundingClientRect(),u=a.left+a.width/2,m=a.top+a.height/2,g=o.getBoundingClientRect(),y=g.width/2-u,S=g.height/2-m;R(y,S,!0)}function It(e,o){R(e-i.x,o-i.y,!0)}function R(e,o,a){if(!a)return Me(e,o);he&&he.cancel();var u={x:0,y:0},m={x:e,y:o},g=0,y=0;he=be(u,m,{step:function(S){Me(S.x-g,S.y-y),g=S.x,y=S.y}})}function zt(e,o){ae(),pe(e,o)}function Zt(){De()}function Be(){c.addEventListener("mousedown",Ne,{passive:!1}),c.addEventListener("dblclick",Le,{passive:!1}),c.addEventListener("touchstart",Oe,{passive:!1}),c.addEventListener("keydown",ke,{passive:!1}),tt.addWheelListener(c,We,{passive:!1}),ye()}function De(){tt.removeWheelListener(c,We),c.removeEventListener("mousedown",Ne),c.removeEventListener("keydown",ke),c.removeEventListener("dblclick",Le),c.removeEventListener("touchstart",Oe),Z&&(window.cancelAnimationFrame(Z),Z=0),k.cancel(),qe(),Ve(),O.release(),we()}function Lt(){f&&Nt()}function Nt(){f=!1,r.applyTransform(i),q("transform"),Z=0}function ke(e){var o=0,a=0,u=0;if(e.keyCode===38?a=1:e.keyCode===40?a=-1:e.keyCode===37?o=1:e.keyCode===39?o=-1:e.keyCode===189||e.keyCode===109?u=1:(e.keyCode===187||e.keyCode===107)&&(u=-1),!d(e,o,a,u)){if(o||a){e.preventDefault(),e.stopPropagation();var m=c.getBoundingClientRect(),g=Math.min(m.width,m.height),y=.05,S=g*y*o,V=g*y*a;R(S,V)}if(u){var P=Ye(u*100),g=b?U():Pt();oe(g.x,g.y,P)}}}function Pt(){var e=c.getBoundingClientRect();return{x:e.width/2,y:e.height/2}}function Oe(e){if(Rt(e),$(),e.touches.length===1)return Vt(e,e.touches[0]);e.touches.length===2&&(de=Ze(e.touches[0],e.touches[1]),Q=!0,Fe())}function Rt(e){t.onTouch&&!t.onTouch(e)||(e.stopPropagation(),e.preventDefault())}function qt(e){$(),!(t.onDoubleClick&&!t.onDoubleClick(e))&&(e.preventDefault(),e.stopPropagation())}function Vt(e){J=new Date;var o=e.touches[0],a=F(o);C=a;var u=N(a.x,a.y);E=u.x,B=u.y,ve=E,me=B,k.cancel(),Fe()}function Fe(){M||(M=!0,document.addEventListener("touchmove",Ie),document.addEventListener("touchend",re),document.addEventListener("touchcancel",re))}function Ie(e){if(e.touches.length===1){e.stopPropagation();var o=e.touches[0],a=F(o),u=N(a.x,a.y),m=u.x-E,g=u.y-B;m!==0&&g!==0&&je(),E=u.x,B=u.y,R(m,g)}else if(e.touches.length===2){Q=!0;var y=e.touches[0],S=e.touches[1],V=Ze(y,S),P=1+(V/de-1)*x,Ke=F(y),$e=F(S);if(E=(Ke.x+$e.x)/2,B=(Ke.y+$e.y)/2,b){var a=U();E=a.x,B=a.y}oe(E,B,P),de=V,e.stopPropagation(),e.preventDefault()}}function $(){I&&(clearTimeout(I),I=0)}function ze(e){if(t.onClick){$();var o=E-ve,a=B-me,u=Math.sqrt(o*o+a*a);u>5||(I=setTimeout(function(){I=0,t.onClick(e)},ot))}}function re(e){if($(),e.touches.length>0){var o=F(e.touches[0]),a=N(o.x,o.y);E=a.x,B=a.y}else{var u=new Date;if(u-j<ot)if(b){var o=U();ne(o.x,o.y,p)}else ne(C.x,C.y,p);else u-J<at&&ze(e);j=u,we(),Ve()}}function Ze(e,o){var a=e.clientX-o.clientX,u=e.clientY-o.clientY;return Math.sqrt(a*a+u*u)}function Le(e){qt(e);var o=F(e);b&&(o=U()),ne(o.x,o.y,p)}function Ne(e){if($(),!_(e)){if(D=e,z=new Date,M)return e.stopPropagation(),!1;var o=e.button===1&&window.event!==null||e.button===0;if(o){k.cancel();var a=F(e),u=N(a.x,a.y);return ve=E=u.x,me=B=u.y,document.addEventListener("mousemove",Pe),document.addEventListener("mouseup",Re),O.capture(e.target||e.srcElement),!1}}}function Pe(e){if(!M){je();var o=F(e),a=N(o.x,o.y),u=a.x-E,m=a.y-B;E=a.x,B=a.y,R(u,m)}}function Re(){var e=new Date;e-z<at&&ze(D),O.release(),we(),qe()}function qe(){document.removeEventListener("mousemove",Pe),document.removeEventListener("mouseup",Re),L=!1}function Ve(){document.removeEventListener("touchmove",Ie),document.removeEventListener("touchend",re),document.removeEventListener("touchcancel",re),L=!1,Q=!1,M=!1}function We(e){if(!T(e)){k.cancel();var o=e.deltaY;e.deltaMode>0&&(o*=100);var a=Ye(o);if(a!==1){var u=b?U():F(e);oe(u.x,u.y,a),e.preventDefault()}}}function F(e){var o,a,u=c.getBoundingClientRect();return o=e.clientX-u.left,a=e.clientY-u.top,{x:o,y:a}}function ne(e,o,a){var u=i.scale,m={scale:u},g={scale:a*u};k.cancel(),ae(),K=be(m,g,{step:function(y){te(e,o,y.scale)},done:Yt})}function Wt(e,o,a){var u=i.scale,m={scale:u},g={scale:a};k.cancel(),ae(),K=be(m,g,{step:function(y){te(e,o,y.scale)}})}function U(){var e=c.getBoundingClientRect();return{x:e.width*b.x,y:e.height*b.y}}function oe(e,o,a){return k.cancel(),ae(),Ae(e,o,a)}function ae(){K&&(K.cancel(),K=null)}function Ye(e){var o=Math.sign(e),a=Math.min(.25,Math.abs(A*e/128));return 1-o*a}function je(){L||(q("panstart"),L=!0,k.start())}function we(){L&&(Q||k.stop(),q("panend"))}function Yt(){q("zoomend")}function q(e){ee.fire(e,ee)}}function it(n){if(n){if(typeof n=="object")return(!W(n.x)||!W(n.y))&&ut(n),n;ut()}}function ut(n){throw console.error(n),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function Y(){}function Ar(n){var t=typeof n;if(!(t==="undefined"||t==="boolean")){var r=W(n.left)&&W(n.top)&&W(n.bottom)&&W(n.right);if(!r)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function W(n){return Number.isFinite(n)}function Se(n){return Number.isNaN?Number.isNaN(n):n!==n}function Br(){return{start:Y,stop:Y,cancel:Y}}function Dr(){if(typeof document>"u")return;var n=document.getElementsByTagName("script");if(!n)return;for(var t,r=0;r<n.length;++r){var c=n[r];if(c.src&&c.src.match(/\bpanzoom(\.min)?\.js/)){t=c;break}}if(!t)return;var l=t.getAttribute("query");if(!l)return;var f=t.getAttribute("name")||"pz",i=Date.now();d();function d(){var v=document.querySelector(l);if(!v){var s=Date.now(),h=s-i;if(h<2e3){setTimeout(d,100);return}console.error("Cannot find the panzoom element",f);return}var p=x(t);console.log(p),window[f]=ht(v,p)}function x(v){for(var s=v.attributes,h={},p=0;p<s.length;++p){var T=s[p],_=w(T);_&&(h[_.name]=_.value)}return h}function w(v){if(v.name){var s=v.name[0]==="p"&&v.name[1]==="z"&&v.name[2]==="-";if(s){var h=v.name.substr(3),p=JSON.parse(v.value);return{name:h,value:p}}}}}Dr();const kr=jt(_r);export{kr as _};
